---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import Features3 from '~/components/widgets/Features3.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

import Button from '~/components/ui/Button.astro';
import Image from '~/components/common/Image.astro';

const appStoreImg = '~/assets/images/app-store.png';
const appStoreDownloadLink = 'https://www.apple.com/app-store/';

const googlePlayImg = '~/assets/images/google-play.png';
const googlePlayDownloadLink = 'https://play.google.com/store/games?&utm_source=na_Med&utm_medium=hasem&utm_content=Nov0520&utm_campaign=Evergreen&pcampaignid=MKT-EDR-na-us-1710138-Med-hasem-py-Evergreen-Nov0520-Text_Search_BKWS-id_100752_%7CEXA%7CONSEM_kwid_43700074471497970_adgroupid_144807244072_keywordid_kwd-34087548205&gad_source=1&gclid=Cj0KCQjwkN--BhDkARIsAD_mnIqgD0HEz4H8I3cs-rY8l95rWsiVi5YXSH1WZu5cmv7Z_1cMWPKYK-0aAkmpEALw_wcB&gclsrc=aw.ds';

import questionnaireImage from '~/assets/images/questionnaire.png';
import playlistImage from '~/assets/images/playlist.png';
import statisticsImage from '~/assets/images/statistics.png';
import angryFace from '~/assets/images/angry.png';
import mehFace from '~/assets/images/meh.png';
import sadFace from '~/assets/images/sad.png';

import { YouTube } from 'astro-embed';

const metadata = {
  title: 'Chordnote',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      {
        variant: 'primary',
        text: 'Explore',
        href: '#note'
      },
    ]}

    image={{ src: '~/assets/images/hero-image.png', alt: 'Chordnote mobile app screens' }}
  >
    <Fragment slot="title">
      <span class="text-[#638FFF] dark:text-white highlight">Music </span><span class="hidden xl:inline">that understands</span>
      <span class="text-[#638FFF] dark:text-white highlight"> you</span>.
    </Fragment>

    <Fragment slot="subtitle">
      <span class="hidden sm:inline">
        <span class="font-semibold">Chordnote</span> uses AI-powered mood detection and science-backed music therapy to create personalized playlists that help you manage stress, anxiety, and 
        emotions.</span>
    </Fragment>
  </Hero>

  <!-- Note Widget ******************* -->

  <section id="note">
    <Note />
  </section>

  <!-- Features Widget *************** -->

  <section class="text-center py-16">
    <div class="max-w-3xl mx-auto">
      <!-- Emoji Icons -->
      <div class="flex justify-center space-x-20 mb-10">
        <img src={sadFace.src} alt="Sad Face" class="w-[200px] h-[200px]"/>
        <img src={mehFace.src} alt="Neutral Face" class="w-[200px] h-[200px]"/>
        <img src= {angryFace.src} alt="Angry Face" class="w-[200px] h-[200px]"/>
      </div>
  
      <h2 class="text-xl md:text-4xl font-bold text-gray-900 dark:text-white leading-tight mt-10">
        Feeling overwhelmed? Stressed? Need a boost?
      </h2>
    </div>
  </section>

  <section class="bg-primary text-white text-center py-8 md:py-20">
    <h3 class="text-xl md:text-5xl font-semibold">Let Chordnote create the perfect playlist for you!</h3>
  </section>

  <Features3
    id="features"
    title="Discover your perfect playlist in three steps."
    tagline="How It Works"
    columns={3}
    items={[
      {
        title: 'Tell Us How You Feel',
        description: `Choose your current mood, the emotion you've been experiencing most, the setting that matches your mood, your music preferences, and your goal for listening.`,
        icon: 'tabler:circle-number-1-filled',
        image: {
          src: questionnaireImage.src,
          alt: 'Emotion selection screen',
        },
      },
      {
        title: 'Get Your Personalized Playlist',
        description:
          'Based on your answers, Chordnote creates a science-backed playlist designed to match and improve your emotional state.',
        icon: 'tabler:circle-number-2-filled',
        image: {
          src: playlistImage.src,
          alt: 'Curated playlist screen',
        },
      },
      {
        title: 'Reflect & Track Your Mood',
        description: 'After listening, provide quick feedback on how you feel and track your emotional patterns over time.',
        icon: 'tabler:circle-number-3-filled',
        image: {
          src: statisticsImage.src,
          alt: 'Mood pattern statistics screen',
        },
      },
    ]}
  >
  <Fragment slot="bg">
    <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
  </Fragment>
</Features3>

  <Features
    id="features"
    tagline="Features"
    title="What you get with Chordnote"
    subtitle="Explore how Chordnote helps you manage stress, anxiety, and emotions."
    items={[
      {
        title: 'AI-Powered Mood Discovery',
        description:
          'Answer quick, guided questions to identify your emotions and receive the perfect playlist.',
        icon: 'tabler:message-chatbot-filled',
      },
      {
        title: 'Emotion-Based Music Selection',
        description:
          'Choose your mood, recent emotions, ideal setting, favorite genres, and listening goal for a playlist tailored to your needs.',
        icon: 'tabler:mood-happy-filled',
      },
      {
        title: 'Personalized Playlists',
        description:
          'Get curated music recommendations, including lyrical, instrumental, soundscapes, and beats from various genres to match your mood.',
        icon: 'tabler:playlist',
      },
      {
        title: 'Science-Backed Music Therapy',
        description:
          "Experience stress relief, focus enhancement, and relaxation with curated sounds backed by research.",
        icon: 'tabler:ear',
      },
      {
        title: 'Before & After Session Questionnaire',
        description:
          'Answer quick pre- and post-listening questions to measure how effective the playlist was in improving your mood.',
        icon: 'tabler:list-letters',
      },
      {
        title: 'Mood Tracking & Insights',
        description:
          'Track your mood patterns over time with personalized statistics, helping you understand emotional trends and how music influences your well-being.',
        icon: 'tabler:chart-bar',
      },
    ]}
  />

  <!-- About Widget *********** -->

  <section class="bg-blue-50 dark:bg-slate-800 py-16 px-6 text-center transition-colors duration-300">
    <div class="max-w-3xl mx-auto">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">Why Chordnote?</h2>
      <p class="text-gray-700 dark:text-gray-300 text-lg mb-6">
        Music has long been a powerful tool for emotional healing, and studies show that 
        specific sounds and rhythms can significantly impact mental well-being. Stress, 
        anxiety, and depression are rising among college students, yet access to mental 
        health resources remains limited. Chordnote was designed to provide an accessible, 
        personalized, and effective music therapy experience using AI and research-backed 
        music psychology.
      </p>
      <div class="max-w-xs sm:max-w-md m-auto flex flex-nowrap flex-col sm:flex-row sm:justify-center gap-4 
            intersect-once intersect-quarter motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade">
        <div class="flex w-full sm:w-auto">
          <a
            href="/about"
            class="w-full sm:mb-0 bg-primary text-white text-lg font-semibold py-3 px-6 rounded-full shadow-md 
                  hover:bg-secondary focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-600 
                  transition duration-300 text-center sm:text-left"
          >
            Learn More
          </a>
        </div>
      </div>
    </div>
  </section>  

  <!-- Testimonials Widget *********** -->

  <Testimonials
   title="What our users say?"
   testimonials={[
     {
       testimonial: `This app was so easy to use! I liked the visuals and the chatbot questionnaires were engaging. I like that it was very user-friendly and tailor-made to my emotions!`,
       name: 'Rachel K.',
       job: '4th Year UCI Student',
       image: {
         src: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
         alt: 'Cary Kennedy Image',
       },
     },
     {
       testimonial: `Chordnote helped me manage my stress better than I expected. The playlists actually matched my mood, and the mood tracker made me more aware of how music affects my emotions. It's like a personal therapy session through music!`,
       name: 'Josh P.',
       job: '3rd Year UCSD Student',
       image: {
         src: 'https://images.unsplash.com/flagged/photo-1570612861542-284f4c12e75f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
         alt: 'Josh Wilkinson Image',
       },
     },
     {
       testimonial:
         'I love how this app is not just about generic relaxation music. The playlists felt personal, and the AI questionnaire made it easy to find what I needed. Itâ€™s perfect for studying, unwinding, or just boosting my mood!',
       name: 'Erin K.',
       job: '1st Year CSULB Student',
       image: {
         src: 'https://images.unsplash.com/photo-1512361436605-a484bdb34b5f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
         alt: 'Sidney Hansen Image',
       },
     },
   ]}
 />

  <Hero tagline="Video Pitch">
    <Fragment slot="title">
      The Vision Behind Chordnote
    </Fragment>

    <Fragment slot="subtitle">
      Get an inside look at how Chordnote was created and the research that shaped it in this 10-minute pitch video.
    </Fragment>

    <Fragment slot="image">
      <YouTube id="https://youtu.be/xUM4RYYwjxw?si=8BuQtyeuwtoB2Srg"/>
      <style is:inline>
        lite-youtube {
          margin: 0 auto;
          max-width: 100%;
        }
      </style>
    </Fragment>

  </Hero>

  <!-- CallToAction Widget *********** -->
  <section id="download">
    <CallToAction
      id="download"
      title="Download our app now!"
      subtitle="Access a variety of stunning templates, simplify your creative process, and elevate your online presence."
    >
      <div slot="actions" class="flex max-w-sm gap-4">
        <Button variant="link" href={appStoreDownloadLink}>
          <Image src={appStoreImg} alt="App Store Image" width={200} />
        </Button>

        <Button variant="link" href={googlePlayDownloadLink}>
          <Image src={googlePlayImg} alt="Google Play Image" width={200} />
        </Button>
      </div>
    </CallToAction>
  </section>

  <!-- Newsletter Subscription Section -->
  <section class="bg-blue-50 dark:bg-gray-900 py-12 px-6 md:px-12">
    <div class="max-w-3xl mx-auto text-center">
      <!-- Title -->
      <h2 class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white">
        Stay Updated with Chordnote!
      </h2>

      <!-- Subtitle -->
      <p class="mt-2 text-lg text-gray-700 dark:text-gray-300">
        Subscribe to our newsletter to receive the latest music therapy insights, AI-powered playlists, and exclusive updates!
      </p>

      <!-- Subscription Form -->
      <form class="mt-6 flex flex-col md:flex-row gap-3 justify-center">
        <input 
          type="email" 
          placeholder="Enter your email" 
          class="w-full md:w-2/3 px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"
          required
        />
        <button 
          type="submit" 
          class="inline-block bg-primary text-white text-lg font-semibold py-3 px-6 rounded-lg shadow-md 
             hover:bg-secondary focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-600 
             transition duration-300"
        >
          Subscribe
        </button>
      </form>

      <!-- Privacy Note -->
      <p class="mt-3 text-sm text-gray-600 dark:text-gray-400">
        No spam, just quality updates. Unsubscribe anytime.
      </p>
    </div>
  </section>
</Layout>
